<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù…ØµØ­Ù Ø§Ù„Ø´Ø±ÙŠÙ Ø§Ù„Ù…Ù„ÙˆÙ†</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #1b5e20; --gold: #c5a059; --bg: #fdfdfd; --text: #333; }
        body.dark { --bg: #1a1a1a; --text: #e0e0e0; --primary: #0d320f; }
        body { margin: 0; font-family: 'Amiri', serif; background: var(--bg); color: var(--text); transition: 0.3s; overflow: hidden; }
        header { background: var(--primary); color: white; padding: 15px; text-align: center; font-size: 22px; font-weight: bold; }
        #quran-container { height: calc(100vh - 140px); display: flex; align-items: center; justify-content: center; padding: 15px; }
        .page-card { width: 100%; max-width: 500px; height: 100%; background: white; border: 6px double var(--gold); border-radius: 15px; padding: 25px; box-sizing: border-box; overflow-y: auto; position: relative; }
        body.dark .page-card { background: #252525; }
        .verse { font-size: 26px; line-height: 2.2; text-align: justify; cursor: pointer; }
        .verse-num { color: var(--primary); font-weight: bold; }
        footer { position: fixed; bottom: 0; width: 100%; background: var(--primary); display: flex; justify-content: space-around; padding: 10px 0; color: white; }
        .btn { text-align: center; cursor: pointer; font-size: 14px; }
    </style>
</head>
<body>
    <header id="sura-name">Ø³ÙˆØ±Ø© Ø§Ù„ÙØ§ØªØ­Ø©</header>
    <div id="quran-container">
        <div class="page-card" id="content">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
    </div>
    <footer>
        <div class="btn" onclick="prevPage()">â—€ Ø§Ù„Ø³Ø§Ø¨Ù‚</div>
        <div class="btn" onclick="toggleDark()">ğŸŒ™ Ø§Ù„ÙˆØ¶Ø¹</div>
        <div class="btn" onclick="nextPage()">Ø§Ù„ØªØ§Ù„ÙŠ â–¶</div>
    </footer>

    <script>
        // Ø¬Ù„Ø¨ Ø±Ù‚Ù… Ø§Ù„Ø³ÙˆØ±Ø© ÙˆØ­Ø§Ù„Ø© Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
        let currentSura = parseInt(localStorage.getItem('lastSura')) || 0;
        let isDark = localStorage.getItem('darkMode') === 'true'; 
        let quranData = [];

        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ Ø§Ù„Ù…Ø­ÙÙˆØ¸ ÙÙˆØ± ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        if (isDark) document.body.classList.add('dark');

        async function loadQuran() {
            try {
                const res = await fetch('https://api.alquran.cloud/v1/quran/quran-uthmani');
                const data = await res.json();
                quranData = data.data.surahs;
                render();
            } catch (error) {
                document.getElementById('content').innerText = "Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.";
            }
        }

        function render() {
            if (quranData.length === 0) return;
            const sura = quranData[currentSura];
            document.getElementById('sura-name').innerText = sura.name;
            let html = sura.id !== 1 && sura.id !== 9 ? '<div style="text-align:center; color:var(--primary); font-size:24px; margin-bottom:15px;">Ø¨ÙØ³Ù’Ù…Ù Ù±Ù„Ù„Ù‘ÙÙ‡Ù Ù±Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ù±Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù</div>' : '';
            sura.ayahs.forEach((a, i) => {
                let text = a.text;
                if(i===0) text = text.replace("Ø¨ÙØ³Ù’Ù…Ù Ù±Ù„Ù„Ù‘ÙÙ‡Ù Ù±Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ°Ù†Ù Ù±Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù", "");
                html += `<span class="verse">${text} <span class="verse-num">ï´¿${i+1}ï´¾</span> </span>`;
            });
            document.getElementById('content').innerHTML = html;
            
            // Ø­ÙØ¸ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            localStorage.setItem('lastSura', currentSura);
        }

        function nextPage() { if(currentSura < 113) { currentSura++; render(); } }
        function prevPage() { if(currentSura > 0) { currentSura--; render(); } }
        
        // ØªØ¨Ø¯ÙŠÙ„ ÙˆØ­ÙØ¸ Ø­Ø§Ù„Ø© Ø§Ù„Ù„ÙˆÙ† (Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ) ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        function toggleDark() { 
            const body = document.body;
            body.classList.toggle('dark');
            localStorage.setItem('darkMode', body.classList.contains('dark')); 
        }

        loadQuran();
    </script>
</body>
</html>
